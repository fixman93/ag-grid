function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}require("@sagi.io/globalthis");var r=function(){function r(t){this.type="postProcessor",this.name="phraseInContextEditor",this.config=e({},globalThis.PHRASEAPP_CONFIG,t),this.phraseEnabled=t.phraseEnabled}r.interpolateKey=function(t,e,r){return e+"phrase_"+t+r},r.loadInContextEditorScript=function(){if("undefined"!=typeof window){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=this.IN_CONTEXT_EDITOR_SCRIPT_URL;var e=document.getElementsByTagName("script")[0];return e&&e.parentNode?e.parentNode.insertBefore(t,e):document.body.appendChild(t),t}};var n,i,o,s=r.prototype;return s.interpolateKey=function(t){return r.interpolateKey(t,this.config.prefix,this.config.suffix)},s.process=function(t,e,r,n){return this.phraseEnabled?this.interpolateKey(e[0]):t},s.toScriptHTML=function(){return"<script>window.PHRASEAPP_ENABLED=true;window.PHRASEAPP_CONFIG="+JSON.stringify(this.config)+'<\/script><script type="text/javascript" async src="'+r.IN_CONTEXT_EDITOR_SCRIPT_URL+'"><\/script>'},n=r,o=[{key:"IN_CONTEXT_EDITOR_SCRIPT_URL",get:function(){return"https://phrase.com/assets/in-context-editor/2.0/app.js?"+(new Date).getTime()}}],(i=[{key:"phraseEnabled",get:function(){return globalThis.PHRASEAPP_ENABLED},set:function(t){globalThis.PHRASEAPP_ENABLED=t,t&&this.config.scriptAutoLoad&&!this.phraseScript&&(this.phraseScript=r.loadInContextEditorScript())}},{key:"config",get:function(){return globalThis.PHRASEAPP_CONFIG},set:function(t){globalThis.PHRASEAPP_CONFIG=e({},r.defaultConfig,t)}}])&&t(n.prototype,i),o&&t(n,o),r}();r.defaultConfig={prefix:"{{__",suffix:"__}}",fullReparse:!0,scriptAutoLoad:!0},module.exports=r;
//# sourceMappingURL=i18next-phrase-in-context-editor-post-processor.js.map
